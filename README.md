# JS Battleships 

JS battleships, at this moment, is a vanilla JavaScript game of Battleships, the riveting duel between friends to sink the others fleet. 

![Battleships-box](http://static1.squarespace.com/static/5a0d8676f6576e0f3648d5d2/5a1057c7f9619a64a2b90692/5c5ab434fa0d606e5b74daa0/1549532097388/battleship-game-classic.jpg?format=1500w)

----

## Phase One: Single Player (Vanilla JS, HTML & CSS)

![game screenshot](https://i.ibb.co/Jm2Sv5M/jsbattleships-1.jpg)

The body of the document is organized into 3 main containers - `container` (which holds the 2 game boards), `hidden-info` (displays dynamic game updates, like whose turn it is, and what ship has been sunk) & `grid-display` (contains the user's playable ships)

![labeled screenshot](https://i.ibb.co/W6XLnHL/labeled-1.png) 

The game boards, `grid-user` and `grid-computer` (the direct children of the `container` div), contain 100 divs in a 10X10 pattern, generated by the `createBoard` function in app.js. The computer will place its ships randomly after the `createBoard` function has completed using the `generate` function, while the `grid-user` board will allow a player to put their ships down. The ships can be rotated inside of the `grid-display` element. 

![labeled gameplay screenshot](https://i.ibb.co/6wnXVVN/labeled-2.png)

Hidden-info contains 2 buttons (that aren't hidden) for the user to start the game, and rotate their available ships. Both of the h3 spans were built to display real-time information the user needs to know - like whose turn it is, if and what battleship was just sunk, and so on. 

![gameplay screenshot](https://i.ibb.co/rcwWQqr/jsbattleships-4-gameplay-2.jpg) 

Once the user's ships have been placed the game can begin. When you select a square that the computer has a ship in, it will result in a HIT! and the square will turn red. This is the result of the `playGame` and `revealSquare` functions in app.js. Initially it is the user's go. An event listener is attached to each of the computerSquares, when a square is clicked the `revealSquare` function is invoked. This function checks if the computerSquare contains any battleship class name, and increments a count and returns a hit if it does. 

Once all the ships have been sunk, which we decide in the `checkForWins` function, the game will end! 

----

## Phase One: Reflection

### Current Problems: 

- The computer always gets a hit. The logic of the computerGo functions needs refactoring. 
- The `checkForWins` function doesn't seem to be working. I wonder why ü§î 
> Update: `checkForWins` wasn't working because I didn't call it anywhere.... ü§¶‚Äç‚ôÄÔ∏èü§¶‚Äç‚ôÄÔ∏èü§¶‚Äç‚ôÄÔ∏è
- When the user ships are rotated the stay in a column flow and overflow the parent div. This just looks bad and I should fix it. 
----

## Phase Two: Multiplayer Player (Vanilla JS, Socket.io, Express)

Now the project is multiplayer, and hosted on Heroku [here](https://aberg-battleships.herokuapp.com/)

Minor changes have been made to the HTML markup, adding 2 containers to visually indicate Player number and readiness status. With class names `player` and `p1`/`p2` respectively.  When a user arrives at the page they can select the game mode by clicking a `Single Player` or `Multiplayer` button. Single player mode works as Phase One outlines. 

Selecting Multiplayer will trigger a cascade of side effects, instantiating communication through the socket.io API. First a player will be connected by searching the available connections, of which there are only 2 currently. If a connection is free, the player is connected and invited to place their ships. If they fail to place all their ships and press the `Start Game` button they'll be prompted to do so. 

![initial connect screenshot](https://i.ibb.co/yy8dDB3/JSbattleships-initial-connect.jpg)

![gameplay screenshot](https://i.ibb.co/g657SLR/JSbattelships-place-all-ships.jpg)

If Player 1 readies before Player 2 even arrives, there is no problem, this will be checked for in the `playerReady` function. This function parses the `connections` array, updating the UI to visually indicate when players are connected and all their ships have been placed (and they've clicked the `Start Game` button). 

![player 2 initial connect](https://i.ibb.co/0jJC2sn/JSbattleships-player2-initial-connect.jpg)

As the game progresses users will be notified when their ships have been sunk, or when they sink an enemy ship. 

![gameplay screenshot](https://i.ibb.co/Bck4w4V/JSbattleships-game-play.jpg)


### What I've learned: 

Shortcuts: 

These seem like little things, but every keyboard shortcut I learn makes me feel a little more like a wizard üßô‚Äç‚ôÇÔ∏è 

When changing a function or variable name: Select the word and press F2 (windows) to update all the references to that object at once! 

